{"ast":null,"code":"var _jsxFileName = \"/home/dev/Documents/Mamisoa/Projet Nirina/Projet-perso-front/frontend/src/components/edit-exercise.component.js\";\nimport React, { Component } from 'react';\nimport { DatePicker } from \"antd\";\nimport moment from 'moment';\nimport axios from \"axios\";\nexport default class EditExercises extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeUserName = e => {\n      let _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n      this.setState(() => ({\n        [name]: value\n      }));\n    };\n\n    this.onChange = date => {\n      console.log(moment(date).format('ll'));\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const exercise = {\n        username: this.state.username,\n        description: this.state.description,\n        duration: this.state.duration,\n        date: this.state.date\n      };\n      axios.put(\"http://localhost:5000/exercises/update/\".concat(this.props.match.params.id), exercise).then(res => console.log());\n    };\n\n    this.state = {\n      username: '',\n      description: '',\n      duration: 0,\n      date: new Date(),\n      users: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"http://localhost:5000/exercises/\".concat(this.props.match.params.id)).then(response => {\n      this.setState(() => ({\n        username: response.data.username,\n        description: response.data.description,\n        duration: response.data.duration,\n        date: new Date(response.data.date)\n      }));\n    });\n    axios.get('http://localhost:5000/users/').then(response => {\n      if (response.data.length) {\n        this.setState(() => ({\n          users: response.data.map(user => user.username),\n          username: response.data[0].username\n        }));\n      }\n    });\n  }\n\n  render() {\n    const dateFormat = 'YYYY/MM/DD';\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Modifier un exercices\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"You are on the edit exercises component\"), React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Nom\"), React.createElement(\"select\", {\n      ref: \"userInput\",\n      required: true,\n      value: this.state.username,\n      onChange: this.onChangeUserName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, this.state.users.map(function (user) {\n      return React.createElement(\"option\", {\n        key: user,\n        value: user,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, user);\n    }))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Description:\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"description\",\n      required: true,\n      value: this.state.description,\n      onChange: this.onChangeUserName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Duration (in minutes):\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"duration\",\n      value: this.state.duration,\n      onChange: this.onChangeUserName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Date:\"), React.createElement(DatePicker, {\n      defaultValue: moment('2015/01/01', dateFormat),\n      format: dateFormat,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Edit Exercise\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/home/dev/Documents/Mamisoa/Projet Nirina/Projet-perso-front/frontend/src/components/edit-exercise.component.js"],"names":["React","Component","DatePicker","moment","axios","EditExercises","constructor","props","onChangeUserName","e","target","name","value","setState","onChange","date","console","log","format","onSubmit","preventDefault","exercise","username","state","description","duration","put","match","params","id","then","res","Date","users","componentDidMount","get","response","data","length","map","user","render","dateFormat"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { DatePicker } from \"antd\";\nimport moment from 'moment';\nimport axios from \"axios\";\n\nexport default class EditExercises extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: '',\n            description: '',\n            duration: 0,\n            date: new Date(),\n            users: []\n        }\n    }\n\n    componentDidMount() {\n        axios.get(`http://localhost:5000/exercises/${this.props.match.params.id}`)\n            .then(response => {\n                this.setState(() => ({\n                    username: response.data.username,\n                    description: response.data.description,\n                    duration: response.data.duration,\n                    date: new Date(response.data.date)\n                }))\n            })\n        axios.get('http://localhost:5000/users/')\n            .then(response => {\n                if (response.data.length) {\n                    this.setState(() => ({\n                        users: response.data.map(user => user.username),\n                        username: response.data[0].username\n                    }))\n                }\n            })\n    }\n\n    onChangeUserName = (e) => {\n        let {name, value } = e.target\n        this.setState(() => ({\n            [name]: value\n        }))\n    }\n\n    onChange = (date) => {\n        console.log(moment(date).format('ll'))\n    }\n\n    onSubmit = e => {\n        e.preventDefault();\n        const exercise = {\n            username: this.state.username,\n            description: this.state.description,\n            duration: this.state.duration,\n            date: this.state.date\n        }\n        axios.put(`http://localhost:5000/exercises/update/${this.props.match.params.id}`, exercise)\n            .then(res => console.log())\n    }\n    \n    render() {\n        const dateFormat = 'YYYY/MM/DD';\n        return (\n            <div>\n                <h3>Modifier un exercices</h3>\n                <p>You are on the edit exercises component</p>\n                <form onSubmit={this.onSubmit}>\n                    <div>\n                        <label>Nom</label>\n                        <select ref=\"userInput\" required value={this.state.username} onChange={this.onChangeUserName}>\n                            {\n                                this.state.users.map(function (user) {\n                                    return <option key={user} value={user}>{user}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n                    <div>\n                        <label>Description:</label>\n                        <input type=\"text\" name=\"description\" required value={this.state.description} onChange={this.onChangeUserName} />\n                    </div>\n                    <div>\n                        <label>Duration (in minutes):</label>\n                        <input type=\"text\" name=\"duration\" value={this.state.duration} onChange={this.onChangeUserName} />\n                    </div>\n                    <div>\n                        <label>Date:</label>\n                        <DatePicker defaultValue={moment('2015/01/01', dateFormat)} format={dateFormat} onChange={this.onChange} />\n                    </div>\n                    <input type=\"submit\" value=\"Edit Exercise\" />\n                </form>\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}